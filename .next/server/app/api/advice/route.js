"use strict";(()=>{var e={};e.id=586,e.ids=[586],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},79145:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>h,patchFetch:()=>P,requestAsyncStorage:()=>m,routeModule:()=>c,serverHooks:()=>l,staticGenerationAsyncStorage:()=>u});var r={};o.r(r),o.d(r,{POST:()=>d});var i=o(49303),n=o(88716),s=o(60670),a=o(87070),p=o(38157);async function d(e){try{let{leagueId:t,season:o,teamId:r,week:i}=await e.json();if(!t||!o||!r||!i)return a.NextResponse.json({error:"leagueId, season, teamId, and week are required"},{status:400});if(!process.env.ESPN_S2||!process.env.ESPN_SWID)return a.NextResponse.json({error:"Missing ESPN_S2 / ESPN_SWID"},{status:401});let[n,s]=await Promise.all([(0,p.A)({leagueId:t,season:o}),(0,p.S)({leagueId:t,season:o,week:i})]),d=n.teams.find(e=>e.id===r);if(!d)return a.NextResponse.json({error:"Team not found"},{status:404});let c=[{id:1,name:"Patrick Mahomes",position:"QB",projectedPoints:22.5,recentForm:"GOOD"},{id:2,name:"Christian McCaffrey",position:"RB",projectedPoints:18.2,recentForm:"EXCELLENT"},{id:3,name:"Tyreek Hill",position:"WR",projectedPoints:16.8,recentForm:"GOOD"},{id:4,name:"Travis Kelce",position:"TE",projectedPoints:14.2,recentForm:"AVERAGE"},{id:5,name:"Justin Tucker",position:"K",projectedPoints:8.5,recentForm:"GOOD"},{id:6,name:"San Francisco 49ers",position:"DEF",projectedPoints:12.1,recentForm:"EXCELLENT"}],m=c.filter(e=>e.projectedPoints>12).map(e=>({playerId:e.id,playerName:e.name,position:e.position,recommendation:"START",reasoning:`${e.name} is projected for ${e.projectedPoints} points and has ${e.recentForm.toLowerCase()} recent form.`,projectedPoints:e.projectedPoints})).slice(0,3),u=c.filter(e=>e.projectedPoints<10).map(e=>({playerId:e.id,playerName:e.name,position:e.position,recommendation:"SIT",reasoning:`${e.name} is projected for only ${e.projectedPoints} points. Consider benching this week.`,projectedPoints:e.projectedPoints})).slice(0,2),l=`Your team looks strong this week with ${m.length} solid starters. Focus on the waiver wire for depth at ${d.roster.entries.length<15?"bench positions":"high-upside players"}. Monitor injury reports and weather conditions for game-time decisions.`,h={teamId:r,week:i,startRecommendations:m,sitRecommendations:u,waiverSuggestions:[{playerName:"Jake Browning",position:"QB",team:"CIN",reasoning:"High upside backup QB with favorable matchup this week.",priority:"HIGH"},{playerName:"Zamir White",position:"RB",team:"LV",reasoning:"Starting RB opportunity with good volume potential.",priority:"MEDIUM"},{playerName:"Demarcus Robinson",position:"WR",team:"LAR",reasoning:"WR3 with touchdown upside in high-powered offense.",priority:"LOW"}],generalAdvice:l,timestamp:new Date().toISOString()};return a.NextResponse.json(h)}catch(e){return a.NextResponse.json({error:e?.message??"Unknown error"},{status:500})}}let c=new i.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/advice/route",pathname:"/api/advice",filename:"route",bundlePath:"app/api/advice/route"},resolvedPagePath:"/Users/cadeboss/Desktop/fantasy football cursor /app/api/advice/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:u,serverHooks:l}=c,h="/api/advice/route";function P(){return(0,s.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:u})}},38157:(e,t,o)=>{o.d(t,{A:()=>u,S:()=>l});var r=o(91585);r.Ry({id:r.Rx(),fullName:r.Z_(),defaultPositionId:r.Rx()});let i=r.Ry({playerId:r.Rx(),lineupSlotId:r.Rx().optional()}),n=r.Ry({id:r.Rx(),location:r.Z_(),nickname:r.Z_(),roster:r.Ry({entries:r.IX(i)})}),s=r.Ry({id:r.Rx(),name:r.Z_(),teams:r.IX(n)}),a=r.Ry({teamId:r.Rx(),totalPoints:r.Rx().optional()}),p=r.Ry({id:r.Rx(),home:a,away:a}),d=r.Ry({matchups:r.IX(p)}),c="https://lm-api-reads.fantasy.espn.com/apis/v3/games/ffl/seasons";async function m(e){let t=function(){let{ESPN_S2:e,ESPN_SWID:t}=process.env;return e&&t?{Cookie:`espn_s2=${e}; SWID=${t}`}:{}}(),o=await fetch(e,{headers:t});if(401===o.status||403===o.status)throw Error("Unauthorized: check ESPN cookies (ESPN_S2, ESPN_SWID)");if(!o.ok)throw Error(`ESPN API error: ${o.status}`);return o.json()}async function u({leagueId:e,season:t}){let o=`${c}/${t}/segments/0/leagues/${e}?view=mTeam&view=mRoster&view=mMatchup`,r=await m(o);return s.parse(r)}async function l({leagueId:e,season:t,week:o}){if(!o)throw Error("Week parameter is required for scoreboard");let r=`${c}/${t}/segments/0/leagues/${e}?view=mMatchupScore&scoringPeriodId=${o}`,i=((await m(r)).schedule??[]).map(e=>({id:e.id,home:{teamId:e.home.teamId,totalPoints:e.home.totalPoints},away:{teamId:e.away.teamId,totalPoints:e.away.totalPoints}}));return d.parse({matchups:i})}}};var t=require("../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),r=t.X(0,[276,972,585],()=>o(79145));module.exports=r})();