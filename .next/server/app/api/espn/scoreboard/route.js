"use strict";(()=>{var e={};e.id=630,e.ids=[630],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4645:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>f,patchFetch:()=>h,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>R,staticGenerationAsyncStorage:()=>m});var a={};r.r(a),r.d(a,{GET:()=>d,revalidate:()=>p});var s=r(9303),o=r(8716),n=r(670),i=r(7070),u=r(8157);let p=60;async function d(e){let t=new URL(e.url).searchParams,r=t.get("leagueId")||process.env.ESPN_LEAGUE_ID,a=t.get("season")||process.env.ESPN_SEASON,s=t.get("week");if(!r)return i.NextResponse.json({error:"Missing leagueId parameter"},{status:400});if(!s)return i.NextResponse.json({error:"Missing week parameter"},{status:400});let o=Number(r),n=a?Number(a):void 0,p=Number(s);try{let e=await (0,u.S)({leagueId:o,season:n??2025,week:p});return i.NextResponse.json(e)}catch(e){return i.NextResponse.json({error:e.message},{status:500})}}let l=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/espn/scoreboard/route",pathname:"/api/espn/scoreboard",filename:"route",bundlePath:"app/api/espn/scoreboard/route"},resolvedPagePath:"/Users/cadeboss/fantasy-football-mvp/fantasy-football-assistant-ui/app/api/espn/scoreboard/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:R}=l,f="/api/espn/scoreboard/route";function h(){return(0,n.patchFetch)({serverHooks:R,staticGenerationAsyncStorage:m})}},8157:(e,t,r)=>{r.d(t,{A:()=>c,S:()=>m});var a=r(1067);a.Ry({id:a.Rx(),fullName:a.Z_(),defaultPositionId:a.Rx()});let s=a.Ry({playerId:a.Rx(),lineupSlotId:a.Rx().optional()}),o=a.Ry({id:a.Rx(),location:a.Z_(),nickname:a.Z_(),roster:a.Ry({entries:a.IX(s)})}),n=a.Ry({id:a.Rx(),name:a.Z_(),teams:a.IX(o)}),i=a.Ry({teamId:a.Rx(),totalPoints:a.Rx().optional()}),u=a.Ry({id:a.Rx(),home:i,away:i}),p=a.Ry({matchups:a.IX(u)}),d="https://fantasy.espn.com/apis/v3/games/ffl/seasons";async function l(e){let t=function(){let{ESPN_S2:e,ESPN_SWID:t}=process.env;return e&&t?{Cookie:`espn_s2=${e}; SWID=${t}`}:{}}(),r=await fetch(e,{headers:t});if(401===r.status||403===r.status)throw Error("Unauthorized: check ESPN credentials");if(!r.ok)throw Error(`ESPN API error: ${r.status}`);return r.json()}async function c({leagueId:e,season:t}){let r=`${d}/${t}/segments/0/leagues/${e}?view=mTeam&view=mRoster&view=mMatchup`,a=await l(r);return n.parse(a)}async function m({leagueId:e,season:t,week:r}){if(!r)throw Error("Week parameter is required for scoreboard");let a=`${d}/${t}/segments/0/leagues/${e}?view=mMatchupScore&scoringPeriodId=${r}`,s=((await l(a)).schedule||[]).map(e=>({id:e.id,home:{teamId:e.home.teamId,totalPoints:e.home.totalPoints},away:{teamId:e.away.teamId,totalPoints:e.away.totalPoints}}));return p.parse({matchups:s})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,972,67],()=>r(4645));module.exports=a})();