(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{418:function(e,a,s){Promise.resolve().then(s.bind(s,8120))},8120:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return p}});var l=s(7437),t=s(2265);let r=e=>{let{children:a,variant:s="primary",isLoading:t=!1,fullWidth:r=!1,className:n="",...d}=e,i=d.disabled||t?"opacity-50 cursor-not-allowed":"";return(0,l.jsx)("button",{className:"".concat("px-4 py-2 rounded font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900"," ").concat({primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500"}[s]," ").concat(r?"w-full":""," ").concat(i," ").concat(n),...d,children:t?(0,l.jsxs)("span",{className:"flex items-center justify-center",children:[(0,l.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):a})},n=e=>{let{label:a,error:s,fullWidth:t=!1,className:r="",...n}=e,d=s?"border-red-500":"border-gray-600";return(0,l.jsxs)("div",{className:"flex flex-col ".concat(t?"w-full":""),children:[a&&(0,l.jsx)("label",{className:"text-sm font-medium text-gray-300 mb-1",children:a}),(0,l.jsx)("input",{className:"".concat("p-2 rounded bg-gray-700 text-white placeholder-gray-400 border focus:outline-none focus:ring-2 focus:ring-blue-500"," ").concat(d," ").concat(t?"w-full":""," ").concat(r),...n}),s&&(0,l.jsx)("p",{className:"mt-1 text-sm text-red-500",children:s})]})},d=e=>{let{label:a,error:s,options:t,fullWidth:r=!1,className:n="",...d}=e,i=s?"border-red-500":"border-gray-600";return(0,l.jsxs)("div",{className:"flex flex-col ".concat(r?"w-full":""),children:[a&&(0,l.jsx)("label",{className:"text-sm font-medium text-gray-300 mb-1",children:a}),(0,l.jsx)("select",{className:"".concat("p-2 rounded bg-gray-700 text-white border focus:outline-none focus:ring-2 focus:ring-blue-500"," ").concat(i," ").concat(r?"w-full":""," ").concat(n),...d,children:t.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))}),s&&(0,l.jsx)("p",{className:"mt-1 text-sm text-red-500",children:s})]})},i=e=>{let{message:a,type:s,onClose:r,duration:n=5e3}=e,[d,i]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{i(!0);let e=setTimeout(()=>{i(!1),setTimeout(r,300)},n);return()=>clearTimeout(e)},[n,r]),(0,l.jsx)("div",{className:"fixed top-4 right-4 z-50 transform transition-all duration-300 ".concat(d?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,l.jsxs)("div",{className:"p-4 rounded-lg shadow-lg border text-white flex items-start max-w-md ".concat({success:"bg-green-600 border-green-700",error:"bg-red-600 border-red-700",info:"bg-blue-600 border-blue-700",warning:"bg-yellow-600 border-yellow-700"}[s]),children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)("p",{children:a})}),(0,l.jsx)("button",{onClick:()=>{i(!1),setTimeout(r,300)},className:"ml-4 text-white hover:text-gray-200 focus:outline-none",children:(0,l.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})},o=e=>{let{toasts:a,removeToast:s}=e;return(0,l.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:a.map(e=>(0,l.jsx)(i,{message:e.message,type:e.type,onClose:()=>s(e.id)},e.id))})},c=()=>(0,l.jsx)("header",{className:"bg-gray-900 border-b border-gray-800",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("h1",{className:"text-xl font-bold text-white",children:"Fantasy Football Assistant"})})}),(0,l.jsx)("div",{className:"flex items-center space-x-4",children:(0,l.jsxs)("nav",{className:"flex space-x-4",children:[(0,l.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Dashboard"}),(0,l.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:"Settings"})]})})]})})}),m=e=>{let{children:a}=e;return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-950",children:[(0,l.jsx)(c,{}),(0,l.jsx)("main",{className:"py-4 sm:py-6",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsx)("div",{className:"space-y-4 sm:space-y-6",children:a})})})]})},u=e=>{let{leagueName:a,teams:s,isLoading:t=!1}=e;return t?(0,l.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6 animate-pulse",children:[(0,l.jsx)("div",{className:"h-6 bg-gray-700 rounded w-1/3 mb-4"}),(0,l.jsx)("div",{className:"space-y-2",children:[1,2,3,4].map(e=>(0,l.jsx)("div",{className:"h-4 bg-gray-700 rounded w-full"},e))})]}):(0,l.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2 text-white",children:"League Summary"}),(0,l.jsx)("p",{className:"text-gray-300 mb-4",children:a}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.map(e=>(0,l.jsx)("div",{className:"p-3 bg-gray-700 rounded hover:bg-gray-600 transition-colors",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"bg-gray-600 border-2 border-dashed rounded-xl w-10 h-10 mr-3"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"font-medium text-white",children:[e.location," ",e.nickname]}),(0,l.jsxs)("p",{className:"text-sm text-gray-400",children:["Team ID: ",e.id]})]})]})},e.id))})]})},x=e=>{let{matchups:a,week:s,isLoading:t=!1}=e;return t?(0,l.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6 animate-pulse",children:[(0,l.jsx)("div",{className:"h-6 bg-gray-700 rounded w-1/3 mb-4"}),(0,l.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-700 rounded",children:[(0,l.jsx)("div",{className:"h-4 bg-gray-600 rounded w-1/4"}),(0,l.jsx)("div",{className:"h-4 bg-gray-600 rounded w-1/6"}),(0,l.jsx)("div",{className:"h-4 bg-gray-600 rounded w-1/4"})]},e))})]}):(0,l.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold mb-4 text-white",children:["Week ",s," Matchups"]}),(0,l.jsx)("div",{className:"space-y-4",children:a.map(e=>{var a,s;let t=null!==(a=e.home.totalPoints)&&void 0!==a?a:0,r=null!==(s=e.away.totalPoints)&&void 0!==s?s:0;return(0,l.jsx)("div",{className:"p-4 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex-1 text-center ".concat(t>r?"font-bold text-green-400":""),children:[(0,l.jsxs)("p",{className:"text-white",children:["Team ",e.home.teamId]}),(0,l.jsx)("p",{className:"text-2xl mt-1",children:t.toFixed(1)})]}),(0,l.jsx)("div",{className:"px-4",children:(0,l.jsx)("span",{className:"text-gray-400",children:"VS"})}),(0,l.jsxs)("div",{className:"flex-1 text-center ".concat(r>t?"font-bold text-green-400":""),children:[(0,l.jsxs)("p",{className:"text-white",children:["Team ",e.away.teamId]}),(0,l.jsx)("p",{className:"text-2xl mt-1",children:r.toFixed(1)})]})]})},e.id)})})]})},g=e=>{let{advice:a,isLoading:s=!1}=e;return s?(0,l.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6 animate-pulse",children:[(0,l.jsx)("div",{className:"h-6 bg-gray-700 rounded w-1/3 mb-4"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"h-4 bg-gray-700 rounded w-full"}),(0,l.jsx)("div",{className:"h-4 bg-gray-700 rounded w-5/6"}),(0,l.jsx)("div",{className:"h-4 bg-gray-700 rounded w-4/6"})]})]}):a&&(a.starters||a.bench||a.summary)?(0,l.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Lineup Advice"}),a.starters&&a.starters.length>0&&(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h4",{className:"text-md font-semibold text-green-400 mb-2",children:"Recommended Starters"}),(0,l.jsx)("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:a.starters.map((e,a)=>(0,l.jsxs)("li",{className:"p-3 bg-gray-700 rounded flex items-center",children:[(0,l.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),(0,l.jsx)("span",{className:"text-gray-200",children:e})]},a))})]}),a.bench&&a.bench.length>0&&(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h4",{className:"text-md font-semibold text-yellow-400 mb-2",children:"Bench Recommendations"}),(0,l.jsx)("ul",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:a.bench.map((e,a)=>(0,l.jsxs)("li",{className:"p-3 bg-gray-700 rounded flex items-center",children:[(0,l.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500 mr-2"}),(0,l.jsx)("span",{className:"text-gray-200",children:e})]},a))})]}),a.summary&&(0,l.jsxs)("div",{className:"p-4 bg-gray-700 rounded",children:[(0,l.jsx)("h4",{className:"text-md font-semibold text-blue-400 mb-2",children:"Summary"}),(0,l.jsx)("p",{className:"text-gray-300",children:a.summary})]})]}):null},h=()=>{let[e,a]=(0,t.useState)([]);return{toasts:e,addToast:(e,s)=>{let l=Date.now();a(a=>[...a,{id:l,message:e,type:s}])},removeToast:e=>{a(a=>a.filter(a=>a.id!==e))}}};function p(){let{toasts:e,addToast:a,removeToast:s}=h(),[i,c]=(0,t.useState)(""),[p,b]=(0,t.useState)(""),[f,y]=(0,t.useState)("1"),[j,v]=(0,t.useState)("balanced"),[N,w]=(0,t.useState)(null),[I,S]=(0,t.useState)(null),[k,C]=(0,t.useState)(null),[L,T]=(0,t.useState)(!1),[F,E]=(0,t.useState)(!1),[_,P]=(0,t.useState)(!1),[D,A]=(0,t.useState)(!1),[q,M]=(0,t.useState)({leagueId:"",teamId:""});(0,t.useEffect)(()=>{let e=localStorage.getItem("fantasyFootball_leagueId"),a=localStorage.getItem("fantasyFootball_teamId"),s=localStorage.getItem("fantasyFootball_week"),l=localStorage.getItem("fantasyFootball_risk");e&&c(e),a&&b(a),s&&y(s),l&&v(l)},[]),(0,t.useEffect)(()=>{localStorage.setItem("fantasyFootball_leagueId",i),localStorage.setItem("fantasyFootball_teamId",p),localStorage.setItem("fantasyFootball_week",f),localStorage.setItem("fantasyFootball_risk",j)},[i,p,f,j]);let R=()=>{let e=!0,a={leagueId:"",teamId:""};return i.trim()||(a.leagueId="League ID is required",e=!1),p.trim()||(a.teamId="Team ID is required",e=!1),M(a),e};async function z(){if(!R()){a("Please fill in all required fields","error");return}T(!0),E(!0),C(null),S(null);try{let e=await fetch("/api/espn/league?leagueId=".concat(i));if(!e.ok)throw Error("Failed to fetch league data: ".concat(e.status));let s=await e.json();w(s),a("League data loaded successfully","success")}catch(e){console.error(e),a("Error fetching league data: ".concat(e.message),"error")}finally{T(!1),E(!1)}}async function B(){if(!R()){a("Please fill in all required fields","error");return}T(!0),P(!0),C(null);try{let e=await fetch("/api/espn/scoreboard?leagueId=".concat(i,"&week=").concat(f));if(!e.ok)throw Error("Failed to fetch scoreboard: ".concat(e.status));let s=await e.json();S(s),a("Scoreboard loaded successfully","success")}catch(e){console.error(e),a("Error fetching scoreboard: ".concat(e.message),"error")}finally{T(!1),P(!1)}}async function O(){var e,s;if(!R()){a("Please fill in all required fields","error");return}if(!N){a("Please fetch league data first","error");return}let l=N.teams.find(e=>String(e.id)===String(p));if(!l){a("Team not found in league","error");return}let t=null;if(null==I?void 0:I.matchups){let e=I.matchups.find(e=>e.home.teamId===parseInt(p)||e.away.teamId===parseInt(p));if(e){let a=e.home.teamId===parseInt(p)?e.away.teamId:e.home.teamId;t=N.teams.find(e=>e.id===a)||null}}let r=((null===(e=l.roster)||void 0===e?void 0:e.entries)||[]).map(e=>{let a=null;return(null==N?void 0:N.players)&&(a=N.players.find(a=>a.id===e.playerId)),{id:e.playerId,name:(null==a?void 0:a.fullName)||"Player ".concat(e.playerId),position:(null==a?void 0:a.defaultPositionId)||e.lineupSlotId||"Unknown",projected_points:0,status:(null==a?void 0:a.injuryStatus)||"ACTIVE",team:(null==a?void 0:a.proTeamId)||null}}),n=null;(null==t?void 0:null===(s=t.roster)||void 0===s?void 0:s.entries)&&(n=t.roster.entries.map(e=>{let a=null;return(null==N?void 0:N.players)&&(a=N.players.find(a=>a.id===e.playerId)),{id:e.playerId,name:(null==a?void 0:a.fullName)||"Player ".concat(e.playerId),position:(null==a?void 0:a.defaultPositionId)||e.lineupSlotId||"Unknown",projected_points:0,status:(null==a?void 0:a.injuryStatus)||"ACTIVE",team:(null==a?void 0:a.proTeamId)||null}}));let d={roster:r,opponent:n,scoring:{ppr:!0,leagueType:"standard"},risk:j};T(!0),A(!0);try{let e=await fetch("/api/lineup/advice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!e.ok)throw Error("Failed to get advice: ".concat(e.status));let s=await e.json();C(s),a("Advice generated successfully","success")}catch(e){console.error(e),a("Error getting advice: ".concat(e.message),"error")}finally{T(!1),A(!1)}}return(0,l.jsxs)(m,{children:[(0,l.jsx)(o,{toasts:e,removeToast:s}),(0,l.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Fantasy Football Assistant"}),(0,l.jsxs)("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4 mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-blue-300 mb-2",children:"How to Find Your IDs:"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-300",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-blue-200",children:"League ID:"}),(0,l.jsx)("p",{children:"1. Go to your ESPN Fantasy Football league"}),(0,l.jsxs)("p",{children:["2. Look at the URL: ",(0,l.jsx)("code",{className:"bg-gray-700 px-1 rounded",children:"fantasy.espn.com/football/league?leagueId=123456"})]}),(0,l.jsxs)("p",{children:["3. Copy the number after ",(0,l.jsx)("code",{className:"bg-gray-700 px-1 rounded",children:"leagueId="})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-blue-200",children:"Team ID:"}),(0,l.jsx)("p",{children:"1. Go to your team page in ESPN"}),(0,l.jsxs)("p",{children:["2. Look at the URL: ",(0,l.jsx)("code",{className:"bg-gray-700 px-1 rounded",children:"fantasy.espn.com/football/team?leagueId=123456&teamId=1"})]}),(0,l.jsxs)("p",{children:["3. Copy the number after ",(0,l.jsx)("code",{className:"bg-gray-700 px-1 rounded",children:"teamId="})]})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,l.jsx)(n,{label:"League ID",placeholder:"e.g., 123456",value:i,onChange:e=>c(e.target.value),error:q.leagueId}),(0,l.jsx)(n,{label:"Team ID",placeholder:"e.g., 1",value:p,onChange:e=>b(e.target.value),error:q.teamId}),(0,l.jsx)(n,{label:"Week",type:"number",placeholder:"Current week",value:f,onChange:e=>y(e.target.value)}),(0,l.jsx)(d,{label:"Risk Profile",value:j,onChange:e=>v(e.target.value),options:[{value:"safe",label:"Safe - Conservative picks"},{value:"balanced",label:"Balanced - Mix of safe and upside"},{value:"ceiling",label:"Ceiling - High upside players"}]})]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,l.jsx)(r,{onClick:z,isLoading:F,disabled:L,children:"Load League Data"}),(0,l.jsx)(r,{variant:"secondary",onClick:B,isLoading:_,disabled:L,children:"Load Scoreboard"}),(0,l.jsx)(r,{variant:"success",onClick:O,isLoading:D,disabled:L,children:"Get AI Advice"})]})]}),(0,l.jsx)(u,{leagueName:(null==N?void 0:N.name)||"",teams:(null==N?void 0:N.teams)||[],isLoading:F}),(0,l.jsx)(x,{matchups:(null==I?void 0:I.matchups)||[],week:f,isLoading:_}),(0,l.jsx)(g,{advice:k,isLoading:D})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=418)}),_N_E=e.O()}]);